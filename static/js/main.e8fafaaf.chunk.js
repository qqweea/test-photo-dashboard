(this["webpackJsonptest-photo-dashboard"]=this["webpackJsonptest-photo-dashboard"]||[]).push([[0],{164:function(e,t,a){},253:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),o=a(27),s=a.n(o),i=(a(163),a(164),a(261)),u=a(256),l=a(260),b=a(35),j=a(36),p=j.a.div(n||(n=Object(b.a)(["\n  margin-top: 2rem;\n  display: flex;\n  justify-content: flex-end;\n  width: 100%;\n"]))),d=a(7),h=a(47),O=a.n(h),m=a(76),f=a(74),g=a(147),x=a(148),y=function e(){var t=this;return Object(g.a)(this,e),this.fetchAlbums=Object(m.a)(O.a.mark((function e(){var a,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.axios.get("/albums");case 3:return a=e.sent,n=a.data,e.abrupt("return",Promise.resolve({albums:n}));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),this.fetchPosts=function(){var e=Object(m.a)(O.a.mark((function e(a){var n,r,c,o,s,i,u;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.currentPage,r=a.itemsPerPage,c=a.search,o=a.albumId,e.prev=1,e.next=4,t.axios.get("/photos",{params:{q:c||void 0,albumId:o||void 0,_start:(n-1)*r,_limit:r}});case 4:return s=e.sent,i=s.data,u=s.headers,e.abrupt("return",Promise.resolve({photos:i,totalItems:u["x-total-count"]}));case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),e.instance?e.instance:(this.axios=Object(x.create)({baseURL:"https://jsonplaceholder.typicode.com"}),e.instance=this,this)},v=a(77),P="photos/FETCH_ALBUMS_REQUEST",w="photos/FETCH_ALBUMS_FULFILLED",C="photos/FETCH_ALBUMS_REJECTED",E="photos/FETCH_PHOTOS_REQUEST",S="photos/FETCH_PHOTOS_FULFILLED",L="photos/FETCH_PHOTOS_REJECTED",I="photos/SET_ITEMS_PER_PAGE",A="photos/SET_SEARCH",T="photos/SET_ALBUM",_="photos/INCREMENT_PAGE",q="photos/SET_PAGE",k="photos/SET_DESKTOP_VIEW",z=P,F=w,H=C,U=E,D=S,M=L,R=I,B=_,J=A,N=T,V=q,G=k,W=function(e){return{type:P,payload:e}},Q=function(e){return{type:w,payload:e}},K=function(e){return{type:C,payload:e}},X=function(e){return{type:E,payload:e}},Y=function(e){return{type:S,payload:e}},Z=function(e){return{type:L,payload:e}},$=function(e){return{type:I,payload:e}},ee=function(e){return{type:_,payload:e}},te=function(e){return{type:A,payload:e}},ae=function(e){return{type:T,payload:e}},ne=function(e){return{type:q,payload:e}},re=function(e){return{type:k,payload:e}},ce=function(e,t){if(t.type===z)return Object(d.a)(Object(d.a)({},e),{},{albums:Object(d.a)(Object(d.a)({},e.albums),{},{isLoading:!0})});if(t.type===F){var a=t.payload.albums.map((function(e){return{value:e.id,optionLabel:e.title}}));return Object(d.a)(Object(d.a)({},e),{},{albums:Object(d.a)(Object(d.a)({},e.albums),{},{isLoading:!1,error:null,items:[].concat(Object(v.a)(e.albums.items),Object(v.a)(a))})})}if(t.type===H)return Object(d.a)(Object(d.a)({},e),{},{albums:Object(d.a)(Object(d.a)({},e.albums),{},{isLoading:!1,error:t.payload.error})});if(t.type===U)return Object(d.a)(Object(d.a)({},e),{},{photos:Object(d.a)(Object(d.a)({},e.photos),{},{isLoading:!0,items:e.isDesktop?[]:Object(v.a)(e.photos.items)})});if(t.type===D)return Object(d.a)(Object(d.a)({},e),{},{photos:Object(d.a)(Object(d.a)({},e.photos),{},{isLoading:!1,items:[].concat(Object(v.a)(e.photos.items),Object(v.a)(t.payload.photos)),totalItems:Number(t.payload.totalItems)})});if(t.type===M)return Object(d.a)(Object(d.a)({},e),{},{photos:Object(d.a)(Object(d.a)({},e.photos),{},{isLoading:!1})});if(t.type===R)return Object(d.a)(Object(d.a)({},e),{},{photos:Object(d.a)(Object(d.a)({},e.photos),{},{items:[]}),query:Object(d.a)(Object(d.a)({},e.query),{},{itemsPerPage:t.payload,currentPage:1})});if(t.type===J)return Object(d.a)(Object(d.a)({},e),{},{photos:Object(d.a)(Object(d.a)({},e.photos),{},{items:[]}),query:Object(d.a)(Object(d.a)({},e.query),{},{search:t.payload,currentPage:1})});if(t.type===N)return Object(d.a)(Object(d.a)({},e),{},{photos:Object(d.a)(Object(d.a)({},e.photos),{},{items:[]}),query:Object(d.a)(Object(d.a)({},e.query),{},{albumId:t.payload,currentPage:1})});if(t.type===V)return Object(d.a)(Object(d.a)({},e),{},{query:Object(d.a)(Object(d.a)({},e.query),{},{currentPage:t.payload})});if(t.type===B)return Object(d.a)(Object(d.a)({},e),{},{query:Object(d.a)(Object(d.a)({},e.query),{},{currentPage:e.query.currentPage+1})});if(t.type===G&&e.isDesktop!==t.payload){var n=Object(d.a)(Object(d.a)({},e),{},{isDesktop:t.payload});return 1!==e.query.currentPage&&(n=Object(d.a)(Object(d.a)({},e),{},{query:Object(d.a)(Object(d.a)({},e.query),{},{currentPage:1})})),n}return e},oe=[{value:20,optionLabel:20},{value:50,optionLabel:50},{value:100,optionLabel:100}];function se(){var e=Object(r.useState)(window.innerWidth>=768),t=Object(f.a)(e,2),a=t[0],n=t[1];return Object(r.useEffect)((function(){function e(){n(window.innerWidth>=768)}return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),a}var ie={headers:{title:"{JSON} Photos",drawerTitle:"Search tools"},labels:{search:"Search images by title",folder:"Filter images by album",itemsPerPage:"Items per page"},placeholders:{search:"Search for a title",folder:"Search for a album"},misc:{allAlbums:"All albums",viewFullSize:"View full size"}},ue=a(8),le=Object(r.createContext)();le.displayName="photos.state";var be=function(e){return function(t){return function(a){var n=Object(r.useContext)(le),c=e(n);return Object(ue.jsx)(t,Object(d.a)(Object(d.a)({},a),c))}}},je=function(e){var t=e.currentPage,a=e.totalItems,n=e.itemsPerPage,r=e.onPageChange,c=e.isLoading;return Object(ue.jsx)(p,{children:Object(ue.jsx)(l.a,{current:t,total:a,pageSize:n,onChange:r,showSizeChanger:!1,disabled:c})})};je.defaultProps={currentPage:4,totalItems:1e3,itemsPerPage:20,onPageChange:function(){},isLoading:!1};var pe=be((function(e){return{currentPage:e.query.currentPage,itemsPerPage:e.query.itemsPerPage,onPageChange:e.photosActions.setCurrentPage,totalItems:e.photos.totalItems,isLoading:e.photos.isLoading}}))(je),de=a(78),he=a(42),Oe=a(257),me=a(258),fe=function(e){var t=e.title,a=e.url,n=e.thumbnailUrl;return Object(ue.jsx)(Oe.a,{bordered:!0,hoverable:!0,cover:Object(ue.jsx)(me.a,{width:"100%",src:n,preview:{src:a,mask:ie.misc.viewFullSize}}),children:Object(ue.jsx)(Oe.a.Meta,{title:t})})};fe.defaultProps={title:"",url:"",thumbnailUrl:""};var ge,xe=fe,ye=a(263),ve=Object(j.a)(Oe.a)(ge||(ge=Object(b.a)(["\n  height: 100%;\n  .ant-skeleton-element {\n    position: relative;\n    width: 100%;\n    padding-top: 100%;\n  }\n  .ant-skeleton-title {\n    margin: 6px 0 2px;\n  }\n  .ant-skeleton-image {\n    position: absolute;\n    width: auto;\n    height: auto;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    background-color: hsla(0,0%,74.5%,.3);\n  }\n"]))),Pe=function(){return Object(ue.jsx)(ve,{bordered:!0,cover:Object(ue.jsx)(ye.a.Image,{}),children:Object(ue.jsx)(Oe.a.Meta,{title:Object(ue.jsx)(ye.a,{active:!0,paragraph:!1})})})},we=function(e){var t=e.items,a=e.isLoading;return Object(ue.jsxs)(de.a,{gutter:[12,12],children:[t.map((function(e){return Object(ue.jsx)(he.a,{xs:24,sm:12,md:8,lg:6,children:Object(ue.jsx)(xe,Object(d.a)({},e))},e.id)})),a&&new Array(3).fill().map((function(e,t){return Object(ue.jsx)(he.a,{xs:24,sm:12,md:8,lg:6,children:Object(ue.jsx)(Pe,{})},t)}))]})};we.defaultProps={items:[],isLoading:!1,incrementCurrentPage:function(){}};var Ce,Ee,Se=be((function(e){return{items:e.photos.items,isLoading:e.photos.isLoading,incrementCurrentPage:e.photosActions.incrementCurrentPage}}))(we),Le=a(112),Ie=j.a.label(Ce||(Ce=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),Ae=j.a.span(Ee||(Ee=Object(b.a)(["\n  font-size: 0.875rem;\n  color: rgba(0, 0, 0, 0.75);\n"]))),Te=function(e){var t=e.type,a=e.label,n=Object(Le.a)(e,["type","label"]);return Object(ue.jsxs)(Ie,{children:[a&&Object(ue.jsx)(Ae,{children:a}),"text"===t&&Object(ue.jsx)(Ue,Object(d.a)({},n)),"select"===t&&Object(ue.jsx)(ze,Object(d.a)({},n)),"search"===t&&Object(ue.jsx)(Ne,Object(d.a)({},n))]})};Te.defaultProps={label:"",type:"text"};var _e=Te,qe=a(84),ke=function(e){var t=e.options,a=Object(Le.a)(e,["options"]);return Object(ue.jsx)(qe.a,Object(d.a)(Object(d.a)({size:"large"},a),{},{children:t.map((function(e){return Object(ue.jsx)(qe.a.Option,{value:e.value,children:e.optionLabel},e.value)}))}))};ke.defaultProps={options:[]};var ze=ke,Fe=a(262),He=function(e){return Object(ue.jsx)(Fe.a,Object(d.a)({size:"large"},e))};He.defaultProps={};var Ue=He,De=function(e){return Object(ue.jsx)(Fe.a.Search,Object(d.a)({size:"large"},e))};De.defaultProps={};var Me,Re,Be,Je,Ne=De,Ve=j.a.div(Me||(Me=Object(b.a)(["\n  margin-bottom: 2rem;\n"]))),Ge=be((function(e){return{albumId:e.query.albumId,itemsPerPage:e.query.itemsPerPage,albums:e.albums.items,onAlbumChange:e.photosActions.setCurrentAlbum,onItemsPerPageChange:e.photosActions.setItemsPerPage,onSetSearch:e.photosActions.setSearch}}))((function(e){var t=e.albumId,a=e.itemsPerPage,n=e.albums,r=e.onSetSearch,c=e.onAlbumChange,o=e.onItemsPerPageChange;return Object(ue.jsx)(Ve,{children:Object(ue.jsxs)(de.a,{gutter:[12,12],justify:"space-between",children:[Object(ue.jsx)(he.a,{xs:24,md:8,children:Object(ue.jsx)(_e,{type:"search",placeholder:ie.placeholders.search,label:ie.labels.search,onSearch:r,allowClear:!0})}),Object(ue.jsx)(he.a,{xs:24,md:8,children:Object(ue.jsx)(_e,{type:"select",placeholder:ie.placeholders.folder,label:ie.labels.folder,value:t,options:n,onChange:c,showSearch:!0})}),Object(ue.jsx)(he.a,{xs:24,md:6,lg:4,children:Object(ue.jsx)(_e,{type:"select",label:ie.labels.itemsPerPage,value:a,options:oe,onChange:o})})]})})})),We=a(264),Qe=a(265),Ke=a(259),Xe=Object(j.a)(Ke.a.Title)(Re||(Re=Object(b.a)(["\n  &.ant-typography {\n    color: #fff;\n    font-size: 1.5rem;\n    margin-bottom: 0;\n  }\n"]))),Ye=Object(j.a)(We.a.Header)(Be||(Be=Object(b.a)(["\n  display: flex;\n  align-items: center;\n  & > div {\n    width: 100%;\n  }\n"]))),Ze=Object(j.a)(We.a.Content)(Je||(Je=Object(b.a)(["\n  width: 100%;\n  padding: 2rem 15px;\n  margin-right: auto;\n  margin-left: auto;\n  @media (min-width: 576px) {\n    max-width: 540px;\n  }\n\n  @media (min-width: 768px) {\n    max-width: 720px;\n  }\n\n  @media (min-width: 992px) {\n    max-width: 960px;\n  }\n\n  @media (min-width: 1200px) {\n    max-width: 1140px;\n  }\n"]))),$e=function(e){return Object(ue.jsx)("svg",Object(d.a)(Object(d.a)({"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"filter",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e),{},{children:Object(ue.jsx)("path",{fill:"currentColor",d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"})}))};$e.defaultProps={height:16,width:16,color:"currentColor"};var et,tt=$e,at=j.a.button.attrs({type:"button"})(et||(et=Object(b.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0.5rem;\n  color: #fff;\n  margin-left: auto;\n  cursor: pointer;\n  &:hover {\n    color: #40a9ff;\n  }\n"]))),nt=function(e){var t=e.onClick;return Object(ue.jsx)(at,{onClick:function(e){e.preventDefault(),t(e)},children:Object(ue.jsx)(tt,{})})},rt=function(e){var t=e.children,a=e.operationsBar,n=se(),c=Object(r.useState)(!1),o=Object(f.a)(c,2),s=o[0],i=o[1];return Object(ue.jsxs)(We.a,{children:[Object(ue.jsx)(Ye,{children:Object(ue.jsxs)(de.a,{align:"middle",children:[Object(ue.jsx)(he.a,{xs:22,md:24,children:Object(ue.jsx)(Xe,{children:ie.headers.title})}),!n&&Object(ue.jsx)(he.a,{xs:2,children:Object(ue.jsx)(nt,{onClick:function(){i(!s)}})})]})}),Object(ue.jsx)(We.a,{children:Object(ue.jsxs)(Ze,{children:[a&&n&&a,a&&!n&&Object(ue.jsx)(Qe.a,{title:ie.headers.drawerTitle,placement:"right",onClose:function(){i(!1)},visible:s,children:a}),t]})})]})},ct=function(){var e=se();return Object(ue.jsxs)(rt,{operationsBar:Object(ue.jsx)(Ge,{}),children:[Object(ue.jsx)(Se,{}),e&&Object(ue.jsx)(pe,{})]})},ot=new i.a;var st,it=(st=function(){return Object(ue.jsx)(u.a,{client:ot,children:Object(ue.jsx)(ct,{})})},function(e){var t=se(),a={photos:{isLoading:!1,error:null,items:[],totalItems:0},albums:{isLoading:!1,error:null,items:[{value:0,optionLabel:ie.misc.allAlbums}]},query:{currentPage:1,itemsPerPage:20,search:"",albumId:0},isDesktop:t},n=Object(r.useReducer)(ce,a),c=Object(f.a)(n,2),o=c[0],s=c[1],i={setCurrentPage:function(e){s(ne(e))},setCurrentAlbum:function(e){s(ae(e))},setItemsPerPage:function(e){s($(e))},setSearch:function(e){s(te(e))},incrementCurrentPage:function(){s(ee())}};return Object(r.useEffect)((function(){var e=new y;!function(){var t=Object(m.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(W()),t.prev=1,t.next=4,e.fetchAlbums();case 4:a=t.sent,s(Q(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),s(K(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}()()}),[]),Object(r.useEffect)((function(){var e=new y;!function(){var t=Object(m.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(X()),t.prev=1,t.next=4,e.fetchPosts(o.query);case 4:a=t.sent,s(Y(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),s(Z(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}()()}),[o.query]),Object(r.useEffect)((function(){s(re(t))}),[t]),Object(ue.jsx)(le.Provider,{value:Object(d.a)(Object(d.a)({},o),{},{photosActions:i}),children:Object(ue.jsx)(st,Object(d.a)({},e))})});s.a.render(Object(ue.jsx)(c.a.StrictMode,{children:Object(ue.jsx)(it,{})}),document.getElementById("root"))}},[[253,1,2]]]);
//# sourceMappingURL=main.e8fafaaf.chunk.js.map